---
title: "S3,Route53について"
emoji: "🪣"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["AWS","S3"]
published: true
---
## S3
オブジェクトストレージサービスでHTTPSのプロトコルで通信をする
👉EBSはブロックストレージと言い、スカジー接続で通信している

多数の大きなファイルを取り扱うのに向いており、APIを使用した開発が容易

- バケット・・・ルートディレクトリのようなもの👉例：bucketname/
- プリフィクス・・・子ディレクトリのようなもの👉例：bucketname/folder1/folder2
- オブジェクト・・・データそのもの👉bucketname/folder1/:data1
実際にはキーバリュー形式で書かれているため、階層構造にはなっていない

デフォルトではアカウント管理者とルートユーザーのみアクセス可となっているが、IAMで権限管理可能（特定IPアドレスのみなどの接続元の管理も可）
バケット、プリフィクス、オブジェクト単位でも設定が可能

そのほかにもwebサイトホスティング機能があったり、通知機能があったりする

## Route53
DNSサービス
URLにELBを紐付け、名前解決を行う
👉ドメインを購入することもできるが、少し高価なので他のドメイン購入サービスを使うことが多い
もしもの時のためにS3などで容易した静的ページ（sorryページ）への割り振りなどもできる

ルーティングポリシー
1. シンプルルーティング・・・基本的なルーティング、一つのリソース（ELBなど）に対して名前解決を行う
2. 加重ルーティング・・・複数のリソースに対して名前解決を行う、全体のルーティングを100%ととして、それぞれに％で割り振りし、重みづけをする👉新機能を搭載したサーバーに10%、新機能を10%の人に使ってもらう
3. レイテンシールーティング・・・複数のリージョンにまたがってサービスを展開してる場合に使用、応答速度が早い方のリージョンにアクセスしてくれる
4. 位置情報ルーティング・・・複数のリージョンにまたがってサービスを展開してる場合に使用、地域が近い方のリージョンにアクセスしてくれる
5. 複数値回答ルーティング・・・複数のサーバーの中からランダムなものを選び、それに障害があれば別のサーバーと繋げてくれる
6. フェイルオーバールーティング・・・通常はプライマリ（基本的な、主要な）に通信を流し、障害が発生した場合、セカンダリに通信をフェイルオーバーさせる

レコード
DNSはドメインと何かを紐づけて管理する、ドメインと"何か"を設定したものをレコードという
- Aliasレコード・・・ドメインとAWSサービスの関連づけ
- Aレコード・・・ドメインとIPv4アドレスの関連づけ
- AAAAレコード・・・ドメインとIPv6アドレスの関連づけ
- NSレコード・・・ドメイン情報を管理するサーバー
- SOAレコード・・・ドメインの管理情報
- CNAMEレコード・・・ドメインとURLの関連づけ👉一旦ELBなどのリソースのドメインに置き換えてしまうので、Aliasレコードを使う
この設定の集合体を**ホストゾーン**という
