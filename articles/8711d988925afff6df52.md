---
title: "新卒一年目の自分がよく悩むgitの使い方①"
emoji: "📚"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["git"]
published: true
---

[新卒一年目の自分がよく悩むgitの使い方②](https://zenn.dev/minami_hiroto/articles/b6bc904a4663484491b6)

参考にさせていただいたサイト：[Learn Git Branching 日本語版](https://learngitbranching.js.org/?locale=ja)
# 事前情報
HEAD・・・通常作業しているブランチを指す、コミットを直接指すこともできる
\*・・・HEADのこと、ブランチを指す際に省略形として、"ブランチ*"と書かれる
main・・・ローカルブランチ、いつも作業してるところ
👉厳密にはHEADが指してるところが作業するところ
origin/main・・・追跡ブランチ
(remote)main・・・GitHubにあるmainブランチ

# ローカル
```sh
$ git init 
# .gitフォルダを作成し、今いるディレクトリをリポジトリと認識する（リポジトリの新規作成）
# または既存のリポジトリを初期化する

$ git status
# リポジトリの状態を表示
# 今いるローカルブランチ、追跡ブランチと新しく追加されたファイル、変更したファイル、ステージングしたファイルがわかる

$ git status -s
# 短縮したstatusがみれる
# M_ == ステージングしたファイル
# _M == 変更したファイル
# ?? == 新しく追加されたファイル

$ git log
# コミット履歴が見れる

$ git add ファイル指定
# ステージングする（ファイルをコミットの対象にする）

$ git commit -m "〇〇"
# 変更をリポジトリに記録する
```
上記流れを宇宙飛行士に例えてみた
![](https://storage.googleapis.com/zenn-user-upload/5c5bf3898c67ee0699783042.png)

```sh
$ git branch 〇〇
# ブランチを作成
# オプションで削除、一覧表示などもできる
```
developmentブランチを作成
![](https://storage.googleapis.com/zenn-user-upload/2b5b1f4a9d10fdea0b347950.png)

```sh
$ git checkout 〇〇
# 異なるブランチに切り替える
```
mainブランチでコミット
![](https://storage.googleapis.com/zenn-user-upload/1566857c40418509eb5d191d.png)
developmentブランチに切り替え、コミット
![](https://storage.googleapis.com/zenn-user-upload/699280c3cd1cf742ee659e1a.png)

```sh
$ git merge 〇〇
# 他のブランチやコミットの内容を現在のブランチに取り込む
```
mainブランチでdevelopmentブランチをmerge
![](https://storage.googleapis.com/zenn-user-upload/88443be704a4ab934c0f031c.png)
developmentブランチにチェックアウトし、mainブランチをmerge
![](https://storage.googleapis.com/zenn-user-upload/dca6a71bc7bb91141aa67f37.png)
```sh
$ git rebase 〇〇
# コミットを再適用する
```
mainブランチでdevelopmentをリベースする
![](https://storage.googleapis.com/zenn-user-upload/385faca2eba36995f4e7a7f0.png)
developmentブランチにチェックアウトmainをリベースする
![](https://storage.googleapis.com/zenn-user-upload/49c8cdd8f022bddb52478766.png)

```sh
$ git reset オプション コミット名
# 今いるブランチを特定のコミットの状態まで戻す
# オプションは3種類
# --soft・・・特定のコミットの状態まで戻し、変更をステージングに移動する
# --mixed・・・特定のコミットの状態まで戻し、変更を作業ディレクトリに移動する
# --hard・・・特定のコミットの状態まで戻し、変更をなかったことにする（変更破棄）
```
developmentブランチをC1までresetする
![](https://storage.googleapis.com/zenn-user-upload/910f7c33d25156c9769d48d6.png)

# リモート
GitHubにてリポジトリは作成済みとして考える
リモートのブランチ名とローカルのブランチ名は対になっている

```sh
$ git remote add origin 追加したいリモートリポジトリ(https://github.com/~~~~)
# リモートリポジトリのアクセス先がoriginと言う名前でローカルに設定される
# originという名前(識別子)でリモートリポジトリを指している
# originはローカルの追跡ブランチと呼ばれるもの
```
- origin/main・・・追跡ブランチの名前（この場合リモートリポジトリのmainを追跡してる）
- origin main・・・追跡ブランチが指してるリモートのブランチのこと
![](https://storage.googleapis.com/zenn-user-upload/db912541f33bedb3d233c05f.png)
mainブランチでgit remote add origin 追加したいリモートリポジトリ(https://github.com/~~~~)
![](https://storage.googleapis.com/zenn-user-upload/6e0eac13ef255818a00b5283.png)

```sh
$ git push
# ローカルブランチの変更内容(commit)をリモートブランチに送信する
```
前提
![](https://storage.googleapis.com/zenn-user-upload/8d8797921919624384bda3ca.png)
mainブランチでコミット
![](https://storage.googleapis.com/zenn-user-upload/c9ac4ebe7ae63c5267b42e6d.png)
mainブランチでpushする
![](https://storage.googleapis.com/zenn-user-upload/3f9103a5a3dedb16175bdb37.png)
リモートが更新されたから追跡ブランチも更新される
👉pushは2段階の処理をしている
    1. ローカルリポジトリの変更をリモートリポジトリへ送信
    2. mainブランチでorigin/mainをmerge
![](https://storage.googleapis.com/zenn-user-upload/763f8c0f950962bb9a85aacd.png)

```sh
$ git clone
# リモートリポジトリのクローンを作成する
```
前提
![](https://storage.googleapis.com/zenn-user-upload/c5b16da131e56ba300457113.png)
作業ディレクトリでリモートリポジトリをclone
![](https://storage.googleapis.com/zenn-user-upload/461b10d916d9d5a4fc5c5f48.png)
```sh
$ git fetch
# リモートリポジトリのブランチ内容を追跡ブランチに反映させる
```
前提
![](https://storage.googleapis.com/zenn-user-upload/64180b98b24610b6afc8c6a4.png)
mainブランチでfetchを実行
![](https://storage.googleapis.com/zenn-user-upload/7445e5c093840c2dc7b26885.png)
mainブランチでorigin/mainをmerge
![](https://storage.googleapis.com/zenn-user-upload/d4183da180d4d40193c29a63.png)
```sh
$ git pull
# fetch+merge
# 上記のfetchからのmergeが一気に行える
```
前提
![](https://storage.googleapis.com/zenn-user-upload/64180b98b24610b6afc8c6a4.png)
mainブランチでfetchを実行 ＋ mainブランチでorigin/mainをmerge
![](https://storage.googleapis.com/zenn-user-upload/d4183da180d4d40193c29a63.png)
