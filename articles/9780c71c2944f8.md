---
title: "TCP/IPモデルとは"
emoji: "🤖"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["TCP/IP"]
published: true
---
[OSI参照モデル](https://zenn.dev/minami_hiroto/articles/220306d186f5b2)のライバル👈先にこっちを読んでね
## 前提知識
インターネットを運用するために作られた、デファクトスタンダード（公的機関による標準ではなく、事実上の世界標準）な通信プロトコル
UNIXに搭載されたこと、OSIに比べ早く作れて、技術革新に対応できる改良を行ったため世界で標準化されている
**RFC**というドキュメントにプロトコルが公開されている


TCP/IPで出てくる様々なプロトコルもOSI参照モデルのそれぞれの層に該当する

| OSI | TCP/IP|
| ---- | ---- |
| アプリケーション層 | アプリケーション層 |
| プレゼンテーション層 | アプリケーション層 |
| セッション層 | アプリケーション層 |
| トランスポート層 | トランスポート層 |
| ネットワーク層 | インターネット層 |
| データリンク層 | ネットワークインターフェース層 |
| 物理層 | ハードウェア |

## ネットワークインターフェース層（データリンク層）
NIC（LANケーブルなどを指す箇所がある物理拡張カード）を動かすためのもので、イーサネットを利用して通信するための階層
NICはただ拡張スロットに入れるだけでは機能しない
OSは拡張機器を認識して、利用できるように設定しなければならず、それを認識するためのソフトウェア、**デバイスドライバ**をインストールする必要がある
つまりNICのデバイスドライバが、イーサネットなどのデータリンクを利用して通信するために必要になる

## インターネット層(ネットワーク層)
IPを使用する[※IPについて](https://zenn.dev/minami_hiroto/articles/6b22d054762b60)
最終目的のホストまでパケットを届ける

### ICMP
TCP/IPが動作する上で補助的な役割を果たすためのプロトコル
IPの制御、メッセージやエラー通知を転送するのに用いられる
本来はトランスポート層に属するプロトコルだが、ルータを超えて他のネットワークと通信する必要がある
なのでIP上で行われることになり、IPよりは上の階層、だが、トランスポートよりは下の階層と言うふうに落ち着いた

## トランスポート層
TCP/IPには２つの代表的なトランスポートプロトコルがある（データの送り方）
アプリケーションプログラム間の通信を実現でき、ポート番号という識別子を使って、どのプログラムとどのプログラムが通信してるかを判定する
### TCP
データを送る際に相手と仮想的なコネクションを確率し、通信するコネクション型通信
相手を確認しながら通信を行うので、相手が確実にデータを受信したかがわかる
信頼性は高いが、速度は出にくい
**フロー制御**・・・送信するパケットを受信側の能力に合わせて調整する
**誤り制御**・・・パケットの送信順番が正しいか、欠損してないか検出
**輻輳制御**・・・ネットワークの混雑状況をみて送信するパケットを調整し、パケットが破損しないようにする
### UDP
コネクションレス型で信頼性が乏しい
その代わり速度が速いので、ビデオや音声などのマルチメディア通信によく使われている

どちらを使うかはOSIでいうセッション層、TCP/IPのアプリケーション層で判断する

## アプリケーション層
TCP/IPのアプリケーションの多くはクライアント・サーバーモデルで作られている
サービス提供がサーバー、受ける方がクライアント
クライアントからの要求がいつきても大丈夫なように、この通信モデルはサービスを提供するプログラムはあらかじめ動作させておく
webアクセスで例えると、HTTPがOSIでいうアプリケーション層で、HTMLがプレゼンテーション層のプロトコルになる
