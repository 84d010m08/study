---
title: "IPまわりについてのおさらい"
emoji: "🐕"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["IP"]
published: true
---
## IP
インターネットプロトコルの略であり、パケットを送り届けるためのプロトコル
IPはパケット交換プロトコルだが、通信が到達しなかった際は再送しないので信頼性がないパケット交換プロトコルといえる
**ICMP**・・・パケット配送中に異常が発生した際に送信元に異常を知らせるためのプロトコル
**ARP**・・・パケットの送り先のMACアドレスをIPアドレスから取得するプロトコル
​
## IPアドレス
IPの識別子
**IPv4とは**...それぞれ0~255の数字が4つある数列。インターネット上の住所のようなもの。
ex)31.13.82.36 👈facebookだよ
​
上記のIPアドレスを検索バーに突っ込むとfacebookに飛ぶ
つまりイメージURLの"もと"みたいなやつ
それぞれの区切りで第1,2,3,4**オクテット**って読むよ
​
**サブネットとは**...IPアドレスの範囲を指定して切り分ける
​
ex)10.0.0.0/8 == 10.0.0.0 ~ 10.255.255.255
10.0.0.0/16 == 10.0.0.0 ~ 10.0.255.255
10.0.0.0/24 == 10.0.0.0 ~ 10.0.0.255
10.0.0.0/32 == 10.0.0.0
0.0.0.0/0 == 0.0.0.0 ~ 255.255.255.255　==　全部！！
​
左の書き方を**CIDR（サイダー）表記**というよ
​
​
２進数で表すと
10.0.0.0 == 00001010.00000000.00000000.00000000
​
1オクテット8桁、つまり
/8なら最初の8桁が固定されるよという意味になる
10.0.0.0/8 == **00001010**.00000000.00000000.00000000 ~ **00001010**.11111111.11111111.11111111
​
LAN内で通信するIPアドレス（プライベートIPアドレス）
10.0.0.0/8
172.16.0.0/12
192.168.0.0/16
​
~~NATとはLAN外の通信（グローバルIPアドレス、パブリックIPアドレス）とLAN内の通信（プライベートIPアドレス）を変換してくれる役割を持っている~~ 👈必ずしもそうではない
NATはIPアドレスを別のIPアドレスに変換してくれる役割を持っている
​
**ローカルループバックアドレスとは**（127.0.0.1～127.0.0.254 == localhost）
localhostと言う名前でよく見る、「自分自身」を指すよ
自分の使っているパソコンで動いてるアプリに接続することができるIPアドレス
​
## DNS
1. まずクライアントはURLを近くのリゾルブサーバーに問い合わせる。
2. そこになければ、ルートサーバーに問い合わせに行く。
3. ルートサーバーはリゾルブサーバーにTLD（トップレベルドメイン）サーバー、.jpや.comなどの場所を返す。
4. その後リゾルブサーバーはTLDサーバーに問い合わせにいく。
5. その後TLDサーバーはリゾルブサーバーにNameサーバーの場所を返す。
6. リゾルブサーバーはNameサーバーに問い合わせにいく。
7. NameサーバーからリゾルブサーバーにURLのIPアドレスを返される。
8. リゾルブサーバーからクライアントにIPアドレスが返される。
​
毎回上記を行っているのではなく、2回目以降はリゾルブサーバーに一時的にIPアドレスが保存され、すぐに返される（キャッシュ）
​
​

