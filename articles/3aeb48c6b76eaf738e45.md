---
title: "CloudWatch,AutoScalingについて"
emoji: "🕌"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["AWS","CloudWatch","AutoScaling"]
published: true
---
## CloudWatch
EC2やRDS、オンプレのサーバーなどを監視し情報を収集（メトリクス）、メトリクスに応じたアラームを設定しておくことで、アクションのトリガーとして働く
アクションには通知やEC2の追加、停止などのさまざまなものがある

標準メトリクス・・・AWS側が用意してくれてるもの👉CPU使用率など
カスタムメトリクス・・・ユーザーが設定するもの👉メモリの使用率など

## SNS(simple notification service)
アクションの一つで、アラームを受け取り、スラック通知を送ったり、メールを送信したりしてくれる

## AutoScaling

起動テンプレートを作成・・・インスタンスタイプや、セキュリティグループ、AMIなどが一緒になったもの
似たものに起動設計というものがあるが非推奨、こっちはバージョン管理ができない
Auto Scaling groupを作成・・・起動テンプレートを元に作成、最小容量と最大容量、希望容量を決め、スケーリングポリシーを決めておくことで、サーバーの増減を制御できる

例：CloudWatchのアラートでCPU70%以上使用されていたらスケーリングポリシーに沿って起動テンプレートを元にEC2を追加、CPU30%以下なら不要なEC2を削除
このように使うことができる
ELBのターゲットグループとも簡単に紐づけることができるのでスケール構成が簡単に作成できる
